{% extends 'AnexaCooperadoraBundle:backend:base.html.twig' %}
{% block title %} Administraci√≥n | Pagos {% endblock %}

{% block dataAdmin %}
    <a class="btn btn-primary botonAdd" href="{{ path('listado_total_pdf', { 'anio': anio }) }}" title=" ver listado total">Exportar a PDF</a>
      <div class="panel panel-primary">
            <!-- Default panel contents -->
            <div class="panel-heading">{{info}}</div>
                <!-- Table -->
                <div class="panel-body table-responsive" id="paginacion">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>
                                DNI
                                </th>
                                
                                <th>
                                Alumno
                                </th>
                                
                                {% for mes in meses %}
                                    <th>  {{ mes }} </th>
                                {% endfor %}
                                
                                <th>
                                Curso
                                </th>
                                
                                <th>
                                Div
                                </th>
                                
                                <th>
                                Est
                                </th>
                            </tr>
                        </thead>
                        
                        <tbody class="list">
                             {% for pago in pagos %}
                                <tr>
                                    <td class="dni">{{pago.alumno.dni}}</td>
                                    <td class="nombre">{{pago.alumno.apellido}} {{pago.alumno.nombre}}</td>
                                    {% for mes in meses %}
                                        <td class="mes">  {{pago.mes[loop.index0]}} </td>
                                    {% endfor %}
                                    <td class="curso">{{pago.alumno.curso}}</td>
                                    <td class="division">{{pago.alumno.division}}</td>
                                    <td class="dni">{% if pago.alumno.nivel == 'P' %} Primario {% else %} Inicial/Jardin {% endif %}</td>
                                    
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>

                    <div class="col-md-4 col-md-offset-4">
                        <ul class="pagination"></ul>
                    </div>
                </div>

        </div>

    <script type="text/javascript">
        $( document ).ready(function() {
            var monkeyList = new List('paginacion', {
              	valueNames: ['nombre','apellido','dni'],
              	 page: '{{ render(url('paginacion')) }}',
              	plugins: [ ListPagination({}) ] 
          	});

          	$(".input-busqueda").keyup(function(){
              	filtros = [];
              	$("input[name='busqueda']:checked").each(function() {
                  	filtros.push($(this).val());
              	});
              	monkeyList.search($(this).val(), filtros)
          	});
        });
        
    </script>
{% endblock %}
                      